!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){saveMarker=(()=>{const e={name:document.getElementById("placeName").value,description:document.getElementById("placeDescription").value,latitude:document.getElementById("placeLat").value,longitude:document.getElementById("placeLng").value,keywords:document.getElementById("placeKeywords").value,favorite:document.getElementById("checkbox").checked};axios.post("/markers",e).then(e=>{console.log("post response: ",e)}),location.reload(!0)}),check=(()=>{document.getElementById("checkbox").checked,document.getElementById("checkbox").checked}),editCheck=(()=>{document.getElementById("editMarkerFavorite").checked,document.getElementById("editMarkerFavorite").checked}),editMarker=(()=>{const e=event.target.getAttribute("class"),t={name:document.getElementById("editPlaceName").value,description:document.getElementById("editPlaceDescription").value,latitude:document.getElementById("editPlaceLat").value,longitude:document.getElementById("editPlaceLng").value,keywords:document.getElementById("editPlaceKeywords").value,favorite:document.getElementById("editMarkerFavorite").checked};axios.put(`/markers/${e}`,t).then(e=>{console.log("edit response: ",e)}),location.reload(!0)}),initMap=(()=>{var e=new google.maps.Map(document.getElementById("map"),{center:new google.maps.LatLng(60.20364340471037,24.88388737511127),zoom:10}),t=new google.maps.InfoWindow,n="http://maps.google.com/mapfiles/kml/paddle/ylw-stars.png",o="http://maps.google.com/mapfiles/kml/paddle/red-circle.png";axios.get("/markers/").then(i=>{var d=i.data;let a=[],l=[];for(var r=0;r<d.length;r++){var c=new google.maps.LatLng(d[r].latitude,d[r].longitude),s=new google.maps.Marker({position:c,map:e,title:d[r].name,id:d[r].id,keywords:d[r].keywords,favorite:d[r].favorite,icon:o});a.push(s),s.favorite&&s.setIcon(n),s.favorite||l.push(s),google.maps.event.addListener(s,"click",function(n,o){return function(){t.setContent(`<h2>${d[o].name}</h2>\n                            <h4>${d[o].description}</h4>\n                            <p>Latitude: ${d[o].latitude}</p>\n                            <p>Longitude: ${d[o].longitude}</p>\n                            <p>Keywords: ${d[o].keywords}</p>\n                            <button id='${d[o].id}'onclick='deleteMarker()' class='deleteMarkerButton' >Delete</button><br>\n                            <button id='addFavoritesButton' class='${d[o].id}'onclick='addToFavorites()'>Add to favorites</button><br>\n                            <button id='removeFavoritesButton' class='${d[o].id}'onclick='removeFromFavorites()'>Remove from favorites</button><br>\n                            <div id='infowindow'>\n                            <button id='openEditWindowButton'onclick='toggleDiv()'>Edit place</button>\n                            <div id='editWindow'>\n                                Name: <br><input id='editPlaceName' type='text' value='${d[o].name}'><br>\n                                Description: <br><input id='editPlaceDescription' type='text' value='${d[o].description}'><br>\n                                Latitude: <br><input id='editPlaceLat' value='${d[o].latitude}'><br>\n                                Longitude: <br><input id='editPlaceLng'value='${d[o].longitude}'><br>\n                                Keywords: <br><input id='editPlaceKeywords'value='${d[o].keywords}'><br>\n                                Add or remove from favorites: <br> <input id='editMarkerFavorite' type='checkbox' value ='false' onclick='editCheck()'><br>\n                            <button  id='saveEditsButton' class='${d[o].id}' onclick='editMarker()'>Save edits</button>\n                            </div>\n                            </div>\n                            `),t.open(e,n)}}(s,r))}filterTitle=(e=>{const t=document.getElementById(e).value.toUpperCase();for(let e=0;e<a.length;e++){a[e].title.toUpperCase().indexOf(t)>-1?a[e].setVisible(!0):a[e].setVisible(!1)}}),filterKeywords=(e=>{const t=document.getElementById(e).value.toUpperCase();for(let e=0;e<a.length;e++){a[e].keywords.toUpperCase().indexOf(t)>-1?a[e].setVisible(!0):a[e].setVisible(!1)}}),filterFavorites=(()=>{document.getElementById("filterFavorites").checked,document.getElementById("filterFavorites").checked;let e=document.getElementById("filterFavorites").checked;for(let t=0;t<a.length;t++)!1===e?a[t].setVisible(!0):l[t].setVisible(!1)}),deleteMarker=(()=>{const e=event.target.getAttribute("id");axios.delete(`/markers/${e}`,e).then(e=>{console.log("delete response: ",e)});for(let t=0;t<a.length;t++)e===a[t].id&&a[t].setMap(null)}),addToFavorites=(()=>{const e=event.target.getAttribute("class"),t={name:document.getElementById("editPlaceName").value,description:document.getElementById("editPlaceDescription").value,latitude:document.getElementById("editPlaceLat").value,longitude:document.getElementById("editPlaceLng").value,keywords:document.getElementById("editPlaceKeywords").value,favorite:!0};axios.put(`/markers/${e}`,t).then(e=>{console.log("edit response: ",e)});for(let t=0;t<a.length;t++)e===a[t].id&&a[t].setIcon(n)}),removeFromFavorites=(()=>{const e=event.target.getAttribute("class"),t={name:document.getElementById("editPlaceName").value,description:document.getElementById("editPlaceDescription").value,latitude:document.getElementById("editPlaceLat").value,longitude:document.getElementById("editPlaceLng").value,keywords:document.getElementById("editPlaceKeywords").value,favorite:!1};axios.put(`/markers/${e}`,t).then(e=>{console.log("edit response: ",e)});for(let t=0;t<a.length;t++)e===a[t].id&&a[t].setIcon(o)})}),google.maps.event.addListener(e,"click",function(e){addMarker(e.latLng)}),addMarker=(n=>{var i=new google.maps.Marker({position:n,map:e,title:"Add new place",description:"not set",info:t,latitude:n.lat(),longitude:n.lng(),keywords:"no words yet",animation:google.maps.Animation.DROP,icon:o});t.setContent(`\n            <div id='infowindow'>\n                <h4 id='add'>${i.title}</h4>\n                    <input id='placeName' type='text' placeholder='Add title'><br>\n                    <input id='placeDescription' type='text' placeholder='Add description'><br>\n                    <input id='placeKeywords' type='text' placeholder='Add keywords'><br>\n                    <input id='checkbox' type='checkbox' onclick='check()'> Add to favorites<br>\n                <p>Coordinates:</p>\n                <input id='placeLat' value='${i.latitude}'><br>\n                <input id='placeLng'value='${i.longitude}'><br>\n                <button id='saveMarkerButton' onclick='saveMarker()'>Save</button>\n            </div>\n            `),i.addListener("click",function(){t.open(e,i)})})}),window.initMap=initMap,toggleBounce=(()=>{null!==marker.getAnimation()?marker.setAnimation(null):marker.setAnimation(google.maps.Animation.BOUNCE)}),toggleDiv=(()=>{var e=document.getElementById("editWindow");e.style.display="block"==e.style.display?"none":"block"})}]);