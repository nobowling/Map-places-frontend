{"code":"!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t){window.initMap=function(){var e=new google.maps.Map(document.getElementById(\"map\"),{center:new google.maps.LatLng(60.20364340471037,24.88388737511127),zoom:14}),t=new google.maps.InfoWindow,n=\"http://maps.google.com/mapfiles/kml/paddle/ylw-stars.png\";axios.get(\"/markers/\").then(o=>{var i=o.data;let d=[],l=[];for(var r=0;r<i.length;r++){var a=new google.maps.LatLng(i[r].latitude,i[r].longitude),c=new google.maps.Marker({position:a,map:e,title:i[r].name,id:i[r].id,keywords:i[r].keywords,favorite:i[r].favorite});d.push(c),c.favorite&&c.setIcon(n),c.favorite||l.push(c),console.log(d);var s=`<h2>${i[r].name}</h2>\\n            <h4>${i[r].description}</h4>\\n            <p>Latitude: ${i[r].latitude}</p>\\n            <p>Longitude: ${i[r].longitude}</p>\\n            <p>Keywords: ${i[r].keywords}</p>\\n            <button id='${i[r].id}'onclick='deleteMarker()'>Delete</button><br>\\n            <button id='addFavoritesButton' class='${i[r].id}'onclick='addToFavorites()'>Add to favorites</button><br>\\n            <button id='removeFavoritesButton' class='${i[r].id}'onclick='removeFromFavorites()'>Remove from favorites</button><br>\\n            <div id='infowindow'>\\n            <h4>Edit place</h4>\\n            <div>\\n                Name: <br><input id='editPlaceName' type='text' value='${i[r].name}'><br>\\n                Description: <br><input id='editPlaceDescription' type='text' value='${i[r].description}'><br>\\n                Latitude: <br><input id='editPlaceLat' value='${i[r].latitude}'><br>\\n                Longitude: <br><input id='editPlaceLng'value='${i[r].longitude}'><br>\\n                Keywords: <br><input id='editPlaceKeywords'value='${i[r].keywords}'><br>\\n                Add or remove from favorites: <br> <input id='editMarkerFavorite' type='checkbox' value ='false' onclick='editCheck()'><br>\\n            <button id='saveEditsButton' class='${i[r].id}' onclick='editMarker()'>Save edits</button>\\n            </div>\\n            </div>\\n            `;google.maps.event.addListener(c,\"click\",function(n,o){return function(){t.setContent(s),t.open(e,n)}}(c))}filterTitle=(e=>{const t=document.getElementById(e).value.toUpperCase();for(let e=0;e<d.length;e++)d[e].title.toUpperCase().indexOf(t)>-1?d[e].setVisible(!0):d[e].setVisible(!1)}),filterKeywords=(e=>{const t=document.getElementById(e).value.toUpperCase();for(let e=0;e<d.length;e++)d[e].keywords.toUpperCase().indexOf(t)>-1?d[e].setVisible(!0):d[e].setVisible(!1)}),filterFavorites=(()=>{document.getElementById(\"filterFavorites\").checked,document.getElementById(\"filterFavorites\").checked;let e=document.getElementById(\"filterFavorites\").checked;for(let t=0;t<d.length;t++)!1===e?d[t].setVisible(!0):l[t].setVisible(!1)}),deleteMarker=(()=>{const e=event.target.getAttribute(\"id\");axios.delete(`/markers/${e}`,e).then(e=>{console.log(\"delete response: \",e)});for(let t=0;t<d.length;t++)e===d[t].id&&d[t].setMap(null)}),addToFavorites=(()=>{const e=event.target.getAttribute(\"class\"),t={name:document.getElementById(\"editPlaceName\").value,description:document.getElementById(\"editPlaceDescription\").value,latitude:document.getElementById(\"editPlaceLat\").value,longitude:document.getElementById(\"editPlaceLng\").value,keywords:document.getElementById(\"editPlaceKeywords\").value,favorite:!0};axios.put(`/markers/${e}`,t).then(e=>{console.log(\"edit response: \",e)});for(let t=0;t<d.length;t++)e===d[t].id&&d[t].setIcon(n)}),removeFromFavorites=(()=>{const e=event.target.getAttribute(\"class\"),t={name:document.getElementById(\"editPlaceName\").value,description:document.getElementById(\"editPlaceDescription\").value,latitude:document.getElementById(\"editPlaceLat\").value,longitude:document.getElementById(\"editPlaceLng\").value,keywords:document.getElementById(\"editPlaceKeywords\").value,favorite:!1};axios.put(`/markers/${e}`,t).then(e=>{console.log(\"edit response: \",e)});for(let t=0;t<d.length;t++)e===d[t].id&&d[t].setIcon(\"http://maps.google.com/mapfiles/kml/paddle/red-circle.png\")}),editMarker=(()=>{const e=event.target.getAttribute(\"class\"),t={name:document.getElementById(\"editPlaceName\").value,description:document.getElementById(\"editPlaceDescription\").value,latitude:document.getElementById(\"editPlaceLat\").value,longitude:document.getElementById(\"editPlaceLng\").value,keywords:document.getElementById(\"editPlaceKeywords\").value,favorite:document.getElementById(\"editMarkerFavorite\").checked};axios.put(`/markers/${e}`,t).then(e=>{console.log(\"edit response: \",e)});for(let t=0;t<d.length;t++)console.log(d),e===d[t].id&&d[t].infowindow.setContent(\"hello\")})}),google.maps.event.addListener(e,\"click\",function(n){var o,i;o=n.latLng,i=new google.maps.Marker({position:o,map:e,title:\"Add new place\",description:\"not set\",info:t,latitude:o.lat(),longitude:o.lng(),keywords:\"no words yet\",animation:google.maps.Animation.DROP}),t.setContent(`\\n            <div id='infowindow'>\\n                <h4 id='add'>${i.title}</h4>\\n                    <input id='placeName' type='text' placeholder='Add title'><br>\\n                    <input id='placeDescription' type='text' placeholder='Add description'><br>\\n                    <input id='placeKeywords' type='text' placeholder='Add keywords'><br>\\n                    <input id='checkbox' type='checkbox' onclick='check()'> Add to favorites<br>\\n                <p>Coordinates:</p>\\n                <input id='placeLat' value='${i.latitude}'><br>\\n                <input id='placeLng'value='${i.longitude}'><br>\\n                <button onclick='addMarker()'>Save</button>\\n            </div>\\n            `),i.addListener(\"click\",function(){t.open(e,i)})})}}]);","extractedComments":[]}